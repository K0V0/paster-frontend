{"ast":null,"code":"import { NavigationStart } from '@angular/router';\nimport { NavigationAnimations } from './navigation.animations';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../login/services/login.service\";\nimport * as i2 from \"./widgets.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"./../translate/translate.service\";\nimport * as i5 from \"./../cookie/cookie.service\";\nimport * as i6 from \"../login/components/login/login.component\";\nimport * as i7 from \"../login/components/logout/logout.component\";\nimport * as i8 from \"../register/components/register.component\";\nimport * as i9 from \"../translate/translate.component\";\nimport * as i10 from \"@angular/common\";\nimport * as i11 from \"../cookie/cookie.component\";\nimport * as i12 from \"../translate/translate.pipe\";\nconst _c0 = function () {\n  return {\n    exact: true\n  };\n};\nconst _c1 = function (a0) {\n  return {\n    \"widgetEnabled\": a0\n  };\n};\nfunction NavigationComponent_li_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"div\")(2, \"a\", 5)(3, \"span\", 1);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"t\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLinkActiveOptions\", i0.ɵɵpureFunction0(5, _c0))(\"ngClass\", i0.ɵɵpureFunction1(6, _c1, ctx_r0.widgetStates.get(\"/board\")));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 3, \"nav.board\"), \" \");\n  }\n}\nfunction NavigationComponent_li_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\")(1, \"div\")(2, \"a\", 6)(3, \"span\", 3);\n    i0.ɵɵlistener(\"click\", function NavigationComponent_li_9_Template_span_click_3_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.toggleWidget(\"/register\", $event));\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"t\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLinkActiveOptions\", i0.ɵɵpureFunction0(5, _c0))(\"ngClass\", i0.ɵɵpureFunction1(6, _c1, ctx_r1.widgetStates.get(\"/register\")));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 3, \"nav.register\"), \" \");\n  }\n}\nfunction NavigationComponent_li_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\")(1, \"div\")(2, \"a\", 7)(3, \"span\", 3);\n    i0.ɵɵlistener(\"click\", function NavigationComponent_li_10_Template_span_click_3_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.toggleWidget(\"/login\", $event));\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"t\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLinkActiveOptions\", i0.ɵɵpureFunction0(5, _c0))(\"ngClass\", i0.ɵɵpureFunction1(6, _c1, ctx_r2.widgetStates.get(\"/login\")));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 3, \"nav.login\"), \" \");\n  }\n}\nfunction NavigationComponent_li_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\")(1, \"div\")(2, \"a\", 8)(3, \"span\", 3);\n    i0.ɵɵlistener(\"click\", function NavigationComponent_li_11_Template_span_click_3_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.toggleWidget(\"/logout\", $event));\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"t\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLinkActiveOptions\", i0.ɵɵpureFunction0(5, _c0))(\"ngClass\", i0.ɵɵpureFunction1(6, _c1, ctx_r3.widgetStates.get(\"/logout\")));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 3, \"nav.logout\"), \" \");\n  }\n}\nfunction NavigationComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelement(1, \"app-register\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"@loginRegisterWidgetAnimation\", undefined);\n  }\n}\nfunction NavigationComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelement(1, \"app-login\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"@loginRegisterWidgetAnimation\", undefined);\n  }\n}\nfunction NavigationComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelement(1, \"app-logout\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"@loginRegisterWidgetAnimation\", undefined);\n  }\n}\nfunction NavigationComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelement(1, \"app-translate\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"@loginRegisterWidgetAnimation\", undefined);\n  }\n}\nfunction NavigationComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelement(1, \"app-cookies\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"@loginRegisterWidgetAnimation\", undefined);\n  }\n}\n/**\nlogika tohoto componentu je nezobrazovat login/register dropdown widget\nak pouzivatel prisiel na login/registraciu pomocou adresy aby mu bol\nzobrazeny full page formular.\nV opacnom pripade, ked sa nachadza na domovskej stranke a chce sa prihlasit,\nponuknut mu widget.\n*/\nexport let NavigationComponent = /*#__PURE__*/(() => {\n  class NavigationComponent {\n    constructor(loginService, widgetService, router, translateService, cookiesService) {\n      this.loginService = loginService;\n      this.widgetService = widgetService;\n      this.router = router;\n      this.translateService = translateService;\n      this.cookiesService = cookiesService;\n      this.title = 'Main navigation';\n      this.loggedIn = false;\n      this.widgetStates = new Map();\n      this.currentLang = this.translateService.getCurrentLang().toUpperCase();\n    }\n    clickOutside(element) {\n      let elements = document.getElementsByClassName(\"logregFormWidget\");\n      if (elements.length > 0) {\n        if (!elements[0].contains(element)) {\n          this.widgetService.clearAll();\n        }\n      }\n    }\n    ngOnInit() {\n      this.trackNavigationEvent(this.router);\n      this.checkCookiesWidget();\n    }\n    toggleWidget(url, event) {\n      if (!this.widgetService.isBlocked()) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.widgetService.toggleState(url);\n      }\n    }\n    trackNavigationEvent(router) {\n      router.events.subscribe(events => {\n        if (events instanceof NavigationStart) {\n          // je spustene aj pri prvom spusteni appky\n          this.widgetService.setBlocked(this.widgetService.isWidgetUrl(events.url));\n          this.loggedIn = this.loginService.checkLogin();\n          this.widgetStates = this.widgetService.getStates();\n        }\n      });\n    }\n    checkCookiesWidget() {\n      if (!this.cookiesService.cookiesAsked()) {\n        let totok = this;\n        setTimeout(function () {\n          totok.widgetService.toggleState(\"/cookies\");\n        }, 1);\n      }\n    }\n  }\n  NavigationComponent.ɵfac = function NavigationComponent_Factory(t) {\n    return new (t || NavigationComponent)(i0.ɵɵdirectiveInject(i1.LoginService), i0.ɵɵdirectiveInject(i2.WidgetsService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.TranslateService), i0.ɵɵdirectiveInject(i5.CookieService));\n  };\n  NavigationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NavigationComponent,\n    selectors: [[\"app-navigation\"]],\n    hostBindings: function NavigationComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"click\", function NavigationComponent_click_HostBindingHandler($event) {\n          return ctx.clickOutside($event.target);\n        }, false, i0.ɵɵresolveDocument);\n      }\n    },\n    decls: 25,\n    vars: 23,\n    consts: [[\"routerLink\", \"\", \"routerLinkActive\", \"active\", 3, \"routerLinkActiveOptions\", \"ngClass\"], [1, \"buttonComponent\"], [4, \"ngIf\"], [1, \"buttonComponent\", 3, \"click\"], [\"class\", \"widget\", 4, \"ngIf\"], [\"routerLink\", \"board\", \"routerLinkActive\", \"active\", 3, \"routerLinkActiveOptions\", \"ngClass\"], [\"routerLink\", \"register\", \"routerLinkActive\", \"active\", 3, \"routerLinkActiveOptions\", \"ngClass\"], [\"routerLink\", \"login\", \"routerLinkActive\", \"active\", 3, \"routerLinkActiveOptions\", \"ngClass\"], [\"routerLink\", \"logout\", \"routerLinkActive\", \"active\", 3, \"routerLinkActiveOptions\", \"ngClass\"], [1, \"widget\"], [1, \"logregFormWidget\"]],\n    template: function NavigationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"nav\")(1, \"ul\")(2, \"li\")(3, \"div\")(4, \"a\", 0)(5, \"span\", 1);\n        i0.ɵɵtext(6);\n        i0.ɵɵpipe(7, \"t\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵtemplate(8, NavigationComponent_li_8_Template, 6, 8, \"li\", 2);\n        i0.ɵɵtemplate(9, NavigationComponent_li_9_Template, 6, 8, \"li\", 2);\n        i0.ɵɵtemplate(10, NavigationComponent_li_10_Template, 6, 8, \"li\", 2);\n        i0.ɵɵtemplate(11, NavigationComponent_li_11_Template, 6, 8, \"li\", 2);\n        i0.ɵɵelementStart(12, \"li\")(13, \"div\")(14, \"a\", 0)(15, \"span\", 3);\n        i0.ɵɵlistener(\"click\", function NavigationComponent_Template_span_click_15_listener($event) {\n          return ctx.toggleWidget(\"/language\", $event);\n        });\n        i0.ɵɵelementStart(16, \"b\");\n        i0.ɵɵtext(17, \" \\u2691 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"em\");\n        i0.ɵɵtext(19);\n        i0.ɵɵelementEnd()()()()()()();\n        i0.ɵɵtemplate(20, NavigationComponent_div_20_Template, 2, 1, \"div\", 4);\n        i0.ɵɵtemplate(21, NavigationComponent_div_21_Template, 2, 1, \"div\", 4);\n        i0.ɵɵtemplate(22, NavigationComponent_div_22_Template, 2, 1, \"div\", 4);\n        i0.ɵɵtemplate(23, NavigationComponent_div_23_Template, 2, 1, \"div\", 4);\n        i0.ɵɵtemplate(24, NavigationComponent_div_24_Template, 2, 1, \"div\", 4);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"routerLinkActiveOptions\", i0.ɵɵpureFunction0(17, _c0))(\"ngClass\", i0.ɵɵpureFunction1(18, _c1, ctx.widgetStates.get(\"/\")));\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(7, 15, \"nav.home\"), \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.loggedIn);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.loggedIn);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.loggedIn);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.loggedIn);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLinkActiveOptions\", i0.ɵɵpureFunction0(20, _c0))(\"ngClass\", i0.ɵɵpureFunction1(21, _c1, ctx.widgetStates.get(\"/language\")));\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\" \", ctx.currentLang, \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.widgetStates.get(\"/register\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.widgetStates.get(\"/login\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.widgetStates.get(\"/logout\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.widgetStates.get(\"/language\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.widgetStates.get(\"/cookies\"));\n      }\n    },\n    dependencies: [i6.LoginComponent, i7.LogoutComponent, i8.RegisterComponent, i9.TranslateComponent, i10.NgClass, i10.NgIf, i3.RouterLink, i3.RouterLinkActive, i11.CookieComponent, i12.TranslationPipe],\n    styles: [\"nav[_ngcontent-%COMP%]{background-color:#b0ddff;text-align:right;padding:.5em 0}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:1.25em;display:inline-block;padding:0 .25em;width:100%;z-index:100}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;position:relative}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1em;text-decoration:none;padding:0}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;padding:.125em .25em}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{vertical-align:middle}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:.75em;vertical-align:middle}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.widgetEnabled[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#fff;border-color:#000}div.widget[_ngcontent-%COMP%]{position:fixed;padding:1em;right:0}@media only screen and (max-width: 320px){div.widget[_ngcontent-%COMP%]{padding:1.25em .625em .625em}}\"],\n    data: {\n      animation: [NavigationAnimations.loginRegisterWidgetAnimation]\n    }\n  });\n  return NavigationComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}