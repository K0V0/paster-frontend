{"ast":null,"code":"import jwt_decode from \"jwt-decode\";\nimport * as i0 from \"@angular/core\";\nexport let JwtService = /*#__PURE__*/(() => {\n  class JwtService {\n    constructor() {\n      this.jwtToken = \"\";\n      this.decodedToken = {};\n      console.log(\"instantiated\");\n    }\n    setToken(token) {\n      if (token) {\n        this.jwtToken = token;\n        this.decodeToken();\n      }\n    }\n    getToken() {\n      console.log(this.jwtToken);\n      return \"\" + this.jwtToken;\n    }\n    getTokenWithPrefix() {\n      return \"Bearer \" + this.getToken();\n    }\n    getUser() {\n      return this.decodedToken ? this.decodedToken.userId : null;\n    }\n    isTokenExpired() {\n      const expiryTime = this.getExpiryTime();\n      if (expiryTime != null) {\n        return 1000 * Number(expiryTime) - new Date().getTime() < 5000;\n      }\n      return false;\n    }\n    isValid() {\n      return this.getUser() != null && !this.isTokenExpired();\n    }\n    removeToken() {\n      console.log(\"token removed\");\n      this.jwtToken = null;\n      this.decodedToken = null;\n    }\n    getExpiryTime() {\n      return this.decodedToken ? this.decodedToken.exp : null;\n    }\n    decodeToken() {\n      if (this.jwtToken) {\n        this.decodedToken = jwt_decode(this.jwtToken);\n      }\n    }\n  }\n  JwtService.ɵfac = function JwtService_Factory(t) {\n    return new (t || JwtService)();\n  };\n  JwtService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: JwtService,\n    factory: JwtService.ɵfac,\n    providedIn: 'root'\n  });\n  return JwtService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}