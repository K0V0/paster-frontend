{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./_SharedModule/modules/translate/translate.service\";\nimport * as i2 from \"./_SharedModule/modules/login/services/login.service\";\nimport * as i3 from \"./_SharedModule/modules/navigation/widgets.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"./_SharedModule/modules/navigation/navigation.component\";\nimport * as i6 from \"./_SharedModule/modules/notification/notification.component\";\nimport * as i7 from \"@angular/common\";\nconst _c0 = function (a0) {\n  return {\n    \"disabled\": a0\n  };\n};\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(translateService,\n    //called to initiate language guessing\n    loginService, widgetService, route) {\n      this.translateService = translateService;\n      this.loginService = loginService;\n      this.widgetService = widgetService;\n      this.route = route;\n      this.title = 'PasterFrontend';\n      this.pageFaded = false;\n      this.stringsLoaded = false;\n    }\n    ngOnInit() {\n      this.checkLang();\n      this.checkLogin();\n      this.backgroundFadingEventListener();\n    }\n    checkLang() {\n      let storedLang = this.translateService.getStoredLang();\n      this.translateService.findAndSetLang();\n      this.translateService.readVocabFiles();\n      // all this fucking shit is because of úsers on Mikrošrot Pizdows, check if it has not been accidentally fixed\n      if (storedLang === null) {\n        if (window.location.href.slice(-1) === '/') {\n          let reloadUrl = window.location.href.slice(0, -1) + \"?langReloadAttempt=true\";\n          window.location.href = reloadUrl;\n        }\n      }\n    }\n    checkLogin() {\n      this.loginService.checkLogin();\n    }\n    backgroundFadingEventListener() {\n      this.widgetService.getStateObservable().subscribe(fadeBackground => {\n        this.pageFaded = fadeBackground;\n      });\n    }\n  }\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.TranslateService), i0.ɵɵdirectiveInject(i2.LoginService), i0.ɵɵdirectiveInject(i3.WidgetsService), i0.ɵɵdirectiveInject(i4.ActivatedRoute));\n  };\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    decls: 6,\n    vars: 3,\n    consts: [[3, \"ngClass\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"header\");\n        i0.ɵɵelement(1, \"app-notification\")(2, \"app-navigation\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"main\", 0);\n        i0.ɵɵelement(4, \"router-outlet\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(5, \"footer\");\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(1, _c0, ctx.pageFaded));\n      }\n    },\n    dependencies: [i4.RouterOutlet, i5.NavigationComponent, i6.NotificationComponent, i7.NgClass]\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}